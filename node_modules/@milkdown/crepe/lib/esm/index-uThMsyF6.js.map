{"version":3,"file":"index-uThMsyF6.js","sources":["../../src/feature/table/index.ts"],"sourcesContent":["import { tableBlock, tableBlockConfig } from '@milkdown/kit/component/table-block'\nimport type { DefineFeature, Icon } from '../shared'\nimport {\n  alignCenterIcon,\n  alignLeftIcon,\n  alignRightIcon,\n  dragHandleIcon,\n  plusIcon,\n  removeIcon,\n} from '../../icons'\n\ninterface TableConfig {\n  addRowIcon: Icon\n  addColIcon: Icon\n  deleteRowIcon: Icon\n  deleteColIcon: Icon\n  alignLeftIcon: Icon\n  alignCenterIcon: Icon\n  alignRightIcon: Icon\n  colDragHandleIcon: Icon\n  rowDragHandleIcon: Icon\n}\n\nexport type TableFeatureConfig = Partial<TableConfig>\n\nexport const defineFeature: DefineFeature<TableFeatureConfig> = (editor, config) => {\n  editor.config((ctx) => {\n    ctx.update(tableBlockConfig.key, defaultConfig => ({\n      ...defaultConfig,\n      renderButton: (renderType) => {\n        switch (renderType) {\n          case 'add_row':\n            return config?.addRowIcon?.() ?? plusIcon\n          case 'add_col':\n            return config?.addColIcon?.() ?? plusIcon\n          case 'delete_row':\n            return config?.deleteRowIcon?.() ?? removeIcon\n          case 'delete_col':\n            return config?.deleteColIcon?.() ?? removeIcon\n          case 'align_col_left':\n            return config?.alignLeftIcon?.() ?? alignLeftIcon\n          case 'align_col_center':\n            return config?.alignCenterIcon?.() ?? alignCenterIcon\n          case 'align_col_right':\n            return config?.alignRightIcon?.() ?? alignRightIcon\n          case 'col_drag_handle':\n            return config?.colDragHandleIcon?.() ?? dragHandleIcon\n          case 'row_drag_handle':\n            return config?.rowDragHandleIcon?.() ?? dragHandleIcon\n        }\n      },\n    }))\n  }).use(tableBlock)\n}\n"],"names":[],"mappings":"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"}